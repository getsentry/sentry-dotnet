<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Manual | Sentry .NET </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Manual | Sentry .NET ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../images/sentry.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="manual">Manual</h1>

<p>Besides the examples documented here, you can refer to <a href="https://github.com/getsentry/sentry-dotnet/tree/main/samples">samples on GitHub</a>.</p>
<p>These are complete samples which you can run with a debugger to see how the SDK works.</p>
<h3 id="static-use">Static use</h3>
<p>The SDK provides a static entry point class called @Sentry.SentrySdk.</p>
<h3 id="initialize-the-sdk">Initialize the SDK</h3>
<p>@SentrySdk.Init</p>
<p>Once the SDK is initialized, unhandled exceptions will automatically be captured and sent to Sentry.
More context can be added, for example, breadcrumbs:</p>
<p><code>SentrySdk.AddBreadcrumb(&quot;User accepted TOC&quot;);</code></p>
<p>By default, the last 100 breadcrumbs are kept. This is configurable alongside many other settings via a parameter to the <code>Init</code> method.</p>
<p>Breadcrumbs are attached to the scope. See further to understand Scopes.</p>
<h3 id="scope-management">Scope management</h3>
<p>The scope is a lightweight object that exists in memory since the SDK is initialized. It can be used to augment events sent to Sentry.
When the SDK is initialized, an empty Scope is already put in memory. That can be modified by you so that any event sent, regardless from where they are sent (e.g: a Logger integration that you configured) will include that scope data.
You can create new scopes, which will clone the previous but will be totally isolated from it.</p>
<p>The scope can be configured through:</p>
<pre><code class="lang-csharp">SentrySdk.ConfigureScope(scope =&gt;
{
    scope.SetTag(&quot;Example&quot;, &quot;Sentry docs&quot;);
}
</code></pre>
<p>There's also an asynchronous version if you need to do some I/O or run other TPL based work in order to retrieve the value to modify the scope:</p>
<pre><code class="lang-csharp">await SentrySdk.ConfigureScopeAsync(async scope =&gt;
{
    // Anonymous object containing user retrieved from the DB
    scope.SetExtra(&quot;SomeExtraInfo&quot;,
        new
        {
            Data = &quot;Value fetched asynchronously&quot;,
            User = await _repository.GetUserId(id);
        });
});
</code></pre>
<blockquote>
<p><code>ConfigureScope</code> and <code>ConfigureScopeAsync</code> can be called as many times as you need.
It'll invoke your callback with the current scope, allowing you to modify it further.</p>
</blockquote>
<p>To push a new scope into the stack and isolate any modifications from other scope, you can call: <code>PushScope</code> and call <code>Dispose</code> to drop it.</p>
<pre><code class="lang-csharp">using (SentrySdk.PushScope())
{
    SentrySdk.ConfigureScope(s =&gt; s.User = new User(&quot;name&quot;));

    Work(); // If an event happens inside this method, the user set above is sent with it.
}

// Disposed the scope above, User is no longer in the scope!
</code></pre>
<h3 id="release">Release</h3>
<p>The Sentry release feature (see <a href="https://docs.sentry.io/learn/releases/">Sentry docs to learn about it</a>) requires the SDK to send the actual
application release number. That is done via the <code>SentryEvent</code> property called <code>Release</code>.</p>
<h4 id="automatically-discovering-release-version">Automatically discovering release version</h4>
<p>The SDK attempts to locate the release and add that to every event sent out to Sentry.</p>
<blockquote>
<p><a href="https://github.com/getsentry/sentry-dotnet/blob/dbb5a3af054d0ca6f801de37fb7db3632ca2c65a/src/Sentry/Internal/ApplicationVersionLocator.cs#L14-L21">Default values like 1.0 or 1.0.0.0 are ignored</a>.</p>
</blockquote>
<p>It will firstly look at the <a href="https://msdn.microsoft.com/en-us/library/system.reflection.assembly.getentryassembly(v=vs.110).aspx">entry assembly's</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.reflection.assemblyinformationalversionattribute">AssemblyInformationalVersionAttribute</a>, which accepts a string as
value as is often used to set the GIT commit hash.</p>
<p>If that returns null, it'll look at the default <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.reflection.assemblyversionattribute">AssemblyVersionAttribute</a> which accepts the numeric version number. When creating a project with Visual Studio, usually that includes version <em>1.0.0.0</em>.
Since that usually means that the version is either not being set, or is set via a different method. The <strong>automatic version detection will disregard</strong> this value and no <em>Release</em> will be reported automatically.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/getsentry/sentry-dotnet/blob/sentry-internal-metrics/docs/manual/manual.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
